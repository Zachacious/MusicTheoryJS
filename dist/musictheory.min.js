!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports):"function"==typeof define&&define.amd?define(["exports"],o):o((t="undefined"!=typeof globalThis?globalThis:t||self).MusicTheory={})}(this,function(t){"use strict";var o=function(){return(o=Object.assign||function(t){for(var o,e=1,n=arguments.length;e<n;e++)for(var r in o=arguments[e])Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);return t}).apply(this,arguments)};for(var e,r=function(t,o,e){var n=Math.trunc(t/e),t=t;return t-=(e+1)*n,{value:o<=(t+=o)?t:t+1,numWraps:n}},n=256,i=[],c=256;n--;)i[n]=(n+256).toString(16).substring(1);var u,p=function(){return function(o){o.prototype.id=function(t){return void 0===o.prototype._id&&(o.prototype._id=function(t){var o=0,t=t||11;if(!e||2*c<n+t)for(e="",n=0;o<c;o++)e+=i[256*Math.random()|0];return e.substring(n,n+++t)}()),t&&(o.prototype._id=t),o.prototype._id}}};(u=b=b||{})[u.A=9]="A",u[u.As=10]="As",u[u.Bb=10]="Bb",u[u.B=11]="B",u[u.Bs=0]="Bs",u[u.Cb=11]="Cb",u[u.C=0]="C",u[u.Cs=1]="Cs",u[u.Db=1]="Db",u[u.D=2]="D",u[u.Ds=3]="Ds",u[u.Eb=3]="Eb",u[u.E=4]="E",u[u.Es=5]="Es",u[u.Fb=4]="Fb",u[u.F=5]="F",u[u.Fs=6]="Fs",u[u.Gb=6]="Gb",u[u.G=7]="G",u[u.Gs=8]="Gs",u[u.Ab=8]="Ab";var a=b,f={a4:440},v=function(t){return f=t?o(o({},f),t):f},s={},y={},d=12,l=12;!function(){for(var t=0,o=0,t=0;t<12;++t)for(o=0;o<l;++o){var e="".concat(t,"-").concat(o),n=d+t*l+o,r=Math.pow(2,(n-69)/12)*v().a4;y[e]=n,s[e]=r}}(),console.log("lookup",s);var b=(h.prototype.id=function(t){return""},h.prototype.octave=function(t){return 0},h.prototype.tone=function(t){return a.C},h.prototype.midiKey=function(){return function(t,o){t="".concat(t,"-").concat(o),o=y[t];if(void 0===o)throw new Error("Invalid midi key: ".concat(t));return o}(this.octave(),this.tone())},h.prototype.frequency=function(){return function(t,o){t="".concat(t,"-").concat(o),o=s[t];if(void 0===o)throw new Error("Invalid frequency key: ".concat(t));return o}(this.octave(),this.tone())},function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(o,e,c):r(o,e))||c);return 3<i&&c&&Object.defineProperty(o,e,c),c}([p(),function(o){o.prototype.octave=function(t){return void 0===o.prototype._octave&&(o.prototype._octave=4),void 0!==t&&(o.prototype._octave=r(t,0,12).value),o.prototype._octave}},function(n){n.prototype.tone=function(t){var o,e;return void 0===n.prototype._tone&&(n.prototype._tone=4),void 0!==t&&(o=r(t,0,11),n.prototype._tone=o.value,void 0!==(e=n.prototype.octave)&&(t=e(),e(t+o.numWraps))),n.prototype._tone}}],h));function h(t){var o;this.octave(null!==(o=null==t?void 0:t.octave)&&void 0!==o?o:4),this.tone(null!==(t=null==t?void 0:t.tone)&&void 0!==t?t:4)}(p=A=A||{})[p.NATURAL=0]="NATURAL",p[p.SHARP=1]="SHARP",p[p.FLAT=2]="FLAT";var A=A;t.Modifier=A,t.Note=b,t.Semitone=a,t.wrap=r,Object.defineProperty(t,"__esModule",{value:!0})});
