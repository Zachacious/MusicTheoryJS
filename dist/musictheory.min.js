!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports):"function"==typeof define&&define.amd?define(["exports"],o):o((t="undefined"!=typeof globalThis?globalThis:t||self).MusicTheory={})}(this,function(t){"use strict";var i=function(){return(i=Object.assign||function(t){for(var o,e=1,n=arguments.length;e<n;e++)for(var r in o=arguments[e])Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);return t}).apply(this,arguments)};for(var e,n=function(t,o,e){var n=Math.trunc(t/(e+1)),t=t;return t-=e*n,{value:t+=o,numWraps:n}},r=256,c=[],u=256;r--;)c[r]=(r+256).toString(16).substring(1);var o,p=function(){return function(o){o.prototype.id=function(t){return void 0===o.prototype._id&&(o.prototype._id=function(t){var o=0,t=t||11;if(!e||2*u<r+t)for(e="",r=0;o<u;o++)e+=c[256*Math.random()|0];return e.substring(r,r+++t)}()),t&&(o.prototype._id=t),o.prototype._id}}};(o=d=d||{})[o.A=9]="A",o[o.As=10]="As",o[o.Bb=10]="Bb",o[o.B=11]="B",o[o.Bs=0]="Bs",o[o.Cb=11]="Cb",o[o.C=0]="C",o[o.Cs=1]="Cs",o[o.Db=1]="Db",o[o.D=2]="D",o[o.Ds=3]="Ds",o[o.Eb=3]="Eb",o[o.E=4]="E",o[o.Es=5]="Es",o[o.Fb=4]="Fb",o[o.F=5]="F",o[o.Fs=6]="Fs",o[o.Gb=6]="Gb",o[o.G=7]="G",o[o.Gs=8]="Gs",o[o.Ab=8]="Ab";var a=d,f={a4:440},s={},v={};!function(){for(var t=0,o=0,t=0;t<12;++t)for(o=0;o<12;++o){var e="".concat(t,"-").concat(o),n=12+12*t+o,r=Math.pow(2,(n-69)/12)*(f=(r=void 0)?i(i({},f),r):f).a4;v[e]=n,s[e]=r}}(),console.log("lookup",s);var d=(y.prototype.id=function(t){return""},y.prototype.octave=function(t){return 0},y.prototype.tone=function(t){return a.C},y.prototype.midiKey=function(){return function(t,o){t="".concat(t,"-").concat(o),o=v[t];if(void 0===o)throw new Error("Invalid midi key: ".concat(t));return o}(this.octave(),this.tone())},y.prototype.frequency=function(){return function(t,o){t="".concat(t,"-").concat(o),o=s[t];if(void 0===o)throw new Error("Invalid frequency key: ".concat(t));return o}(this.octave(),this.tone())},function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(o,e,c):r(o,e))||c);return 3<i&&c&&Object.defineProperty(o,e,c),c}([p(),function(o){o.prototype.octave=function(t){return void 0===o.prototype._octave&&(o.prototype._octave=4),void 0!==t&&(o.prototype._octave=n(t,0,12).value),o.prototype._octave}},function(o){o.prototype.tone=function(t){return void 0===o.prototype._tone&&(o.prototype._tone=4),void 0!==t&&(o.prototype._tone=n(t,0,11).value),o.prototype._tone}}],y));function y(t){var o;this.octave(null!==(o=null==t?void 0:t.octave)&&void 0!==o?o:4),this.tone(null!==(t=null==t?void 0:t.tone)&&void 0!==t?t:4)}(p=l=l||{})[p.NATURAL=0]="NATURAL",p[p.SHARP=1]="SHARP",p[p.FLAT=2]="FLAT";var l=l;t.Halftone=a,t.Modifier=l,t.Note=d,t.wrap=n,Object.defineProperty(t,"__esModule",{value:!0})});
